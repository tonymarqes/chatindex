
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Exemplo Botões JS</title>
  
<style>
#iframe_sf {
    display: none;
    position: fixed;
    bottom: 0px;
    width: 400px;
    height: 570px;
    right: 0px;
    border: none;
}
</style>
  
  
</head>
<body>

	<script type='text/javascript'>
	function initEmbeddedMessaging() {
		try {
			embeddedservice_bootstrap.settings.language = 'pt_BR'; // For example, enter 'en' or 'en-US'

			embeddedservice_bootstrap.init(
				'00DDn00000141gq',
				'Enhanced',
				'https://cunning-shark-eahnls-dev-ed.trailblaze.my.site.com/ESWEnhanced1768942334560',
				{
					scrt2URL: 'https://cunning-shark-eahnls-dev-ed.trailblaze.my.salesforce-scrt.com'
				}
			);
		} catch (err) {
			console.error('Error loading Embedded Messaging: ', err);
		}
	};
</script>
<script type='text/javascript' src='https://cunning-shark-eahnls-dev-ed.trailblaze.my.site.com/ESWEnhanced1768942334560/assets/js/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>
<!--
  <button onclick="botao1()">C&A PAY</button>

  <script>
window.addEventListener("message", function(e) {
    if (e.data.status === "loaded") {
        console.log("iFrame carregou o script do Salesforce");
    }

    if (e.data.status === "error") {
        console.log("iFrame NÃO conseguiu carregar o script do Salesforce");
		alert('Não foi possivel iniciar');
    }
});
  
  
  
function botao1() {
	console.log('Apertou o botão 1');
	var n = document.getElementById("iframe_sf")
	console.log(n);
	var i = {from: "ceapay", recordTypeId: '012050000000KQqAAM', buttonId: '5730500000000HR' };
	n.contentWindow.postMessage(JSON.stringify(i), 'https://testchat-virid.vercel.app/script.html'),
	document.getElementById("iframe_sf").style.display = "block"
}

function botao2() {
  alert('Você clicou no Botão 2');
}
	
var iframe = document.createElement('iframe');
iframe.src = 'https://testchat-virid.vercel.app/script.html';
iframe.id = "iframe_sf";
document.body.appendChild(iframe);


function addStyle(styleString) {
    const style = document.createElement('style');
    style.textContent = styleString;
    document.head.append(style);
}


addStyle(`
  #iframe_sf {
    display: none;
    position: fixed;
    bottom: 0px;
    width: 400px;
    height: 570px;
    right: 0px;
    border: none;
}
  `);
  
  
function loadScript(src, callback) {
  const script = document.createElement('script');
  script.src = src;
  script.async = true; // Load asynchronously to prevent blocking rendering

  // Optional: Add onload and onerror handlers for better control
  script.onload = () => {
    console.log(`${src} loaded successfully.`);
    if (callback) {
      callback(); // Execute callback function after script loads
    }
  };
  script.onerror = () => {
    console.error(`Error loading script: ${src}`);
  };

  document.head.appendChild(script); // Append to head or body
}

// Example usage:
/*loadScript('https://service.force.com/embeddedservice/5.0/esw.min.js', () => {
  // This code will execute after 'script.js' has loaded
  console.log('Script has been loaded and its functions are now available.');
  // You can now call functions defined in 'script.js'
});*/

// You can also load without a callback if no immediate action is needed
//loadScript('https://service.force.com/embeddedservice/5.0/esw.min.js');

  </script>-->
</body>
</html>



