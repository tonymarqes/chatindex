<script>


</script>


<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Exemplo Botões JS</title>
  
<style>
#iframe_sf {
    display: none;
    position: fixed;
    bottom: 0px;
    width: 400px;
    height: 570px;
    right: 0px;
    border: none;
}
</style>
  
  
</head>
<body>

  <button onclick="botao1()">C&A PAY</button>

  <script>
function botao1() {
	console.log('Apertou o botão 1');
	var n = document.getElementById("iframe_sf")
	console.log(n);
	var i = {from: "ceapay", recordTypeId: '012050000000KQqAAM', buttonId: '5730500000000HR' };
	n.contentWindow.postMessage(JSON.stringify(i), "https://chatbot-cea.dev.cea-ecommerce.com.br"),
	document.getElementById("iframe_sf").style.display = "block"
}

function botao2() {
  alert('Você clicou no Botão 2');
}
	
	
var iframe = document.createElement('iframe');
iframe.src = 'https://testchat-virid.vercel.app/script.html';
iframe.id = "iframe_sf";
document.body.appendChild(iframe);


function addStyle(styleString) {
    const style = document.createElement('style');
    style.textContent = styleString;
    document.head.append(style);
}


addStyle(`
  #iframe_sf {
    display: none;
    position: fixed;
    bottom: 0px;
    width: 400px;
    height: 570px;
    right: 0px;
    border: none;
}
  `);
  
  
function loadScript(src, callback) {
  const script = document.createElement('script');
  script.src = src;
  script.async = true; // Load asynchronously to prevent blocking rendering

  // Optional: Add onload and onerror handlers for better control
  script.onload = () => {
    console.log(`${src} loaded successfully.`);
    if (callback) {
      callback(); // Execute callback function after script loads
    }
  };
  script.onerror = () => {
    console.error(`Error loading script: ${src}`);
  };

  document.head.appendChild(script); // Append to head or body
}

// Example usage:
loadScript('https://service.force.com/embeddedservice/5.0/esw.min.js', () => {
  // This code will execute after 'script.js' has loaded
  console.log('Script has been loaded and its functions are now available.');
  // You can now call functions defined in 'script.js'
});

// You can also load without a callback if no immediate action is needed
//loadScript('https://service.force.com/embeddedservice/5.0/esw.min.js');

  </script>
</body>
</html>
